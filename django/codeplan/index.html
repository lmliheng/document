<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="HENG" /><link rel="canonical" href="https://example.com/codeplan/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>计划表项目搭建 - Django杂记</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u8ba1\u5212\u8868\u9879\u76ee\u642d\u5efa";
        var mkdocs_page_input_path = "codeplan.md";
        var mkdocs_page_url = "/codeplan/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Django杂记
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="搜索" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">主页</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../settings/index.html">配置文件</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../models/index.html">模型</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../urls/index.html">路由</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../view/index.html">视图</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../admin/index.html">管理员</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../template/index.html">模板</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../static/index.html">静态资源</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../database/index.html">数据库</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../file/index.html">文件上传与生成</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cron/index.html">定时任务</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../translator/index.html">流媒体</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../linux/index.html">部署笔记</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="../index.html">计划表项目搭建</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#_2">项目展示</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_3">分析</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_4">上手</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_5">基本环境</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#django">创建django项目(根目录）</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_6">创建应用</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#settingspy">设置settings.py</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_7">创建模型</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_8">书写视图函数</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_9">路由配置</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_10">静态资源</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_11">模板文件</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_12">跑通项目</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_13">迁移数据</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_14">创建管理员账号，提示在输入密码时不会显示密码，直接输入即可</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_15">启动</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_16">访问</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../mkdocs/">mkdocs笔记</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../markdown/">Markdown格式</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Django杂记</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">计划表项目搭建</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="_1">计划表</h2>
<blockquote>
<p>Hello , 我是"小恒不会java"。考虑到django官网案例的代码对新手不太友好<br />
那我将一个案例从思路到代码都简单完整的摆出来，<br />
使用过django的各位可cv即可，不会django跟着走操作就能跑起来</p>
</blockquote>
<h3 id="_2">项目展示</h3>
<p>本案例在<a href="https://so.csdn.net/so/search?q=GitHub&amp;spm=1001.2101.3001.7020">GitHub</a>已经开源，可在后台自行设置计划</p>
<pre><code>https://github.com/lmliheng/plan
</code></pre>
<h3 id="_3">分析</h3>
<p>建立模型：计划Plan,该表内有天数（标题）和具体实例<br />
<a href="https://so.csdn.net/so/search?q=%E5%89%8D%E7%AB%AF%E6%A8%A1%E6%9D%BF&amp;spm=1001.2101.3001.7020">前端模板</a>：我选取了GitHub上某开源的计划表前端项目，原生js<br />
创建视图函数：通过路由映射至模板文件</p>
<h3 id="_4">上手</h3>
<h5 id="_5">基本环境</h5>
<p>python3.5以上，django5以上，集成开发环境（我推荐vscode)</p>
<h5 id="django">创建django项目(根目录）</h5>
<pre><code>django-admin startproject HelloWorld
</code></pre>
<p>HelloWorld是根目录名，这是django-admin管理工具创建项目<br />
此时目录结构如下<br />
───HelloWorld/<br />
│ ├───manage.py<br />
│ ├───HelloWorld/<br />
│ │ │ ├───asgi.py<br />
│ │ │ ├───settings.py<br />
│ │ │ ├───urls.py<br />
│ │ │ ├───wsgi.py<br />
│ │ │ ├───__init__.py<br />
具体知识还是得看官方文档，我在此只是带头写项目</p>
<h5 id="_6">创建应用</h5>
<pre><code>python manage.py startapp APP名
</code></pre>
<p>此时目录结构<br />
├───HelloWorld/<br />
│ ├───manage.py<br />
│ ├───codeplan/<br />
│ │ ├───admin.py<br />
│ │ ├───apps.py<br />
│ │ ├───models.py<br />
│ │ ├───tests.py<br />
│ │ ├───views.py<br />
│ │ ├───__init__.py<br />
│ │ ├───migrations/<br />
│ │ │ ├───__init__.py<br />
│ ├───HelloWorld/<br />
│ │ ├───asgi.py<br />
│ │ ├───settings.py<br />
│ │ ├───urls.py<br />
│ │ ├───wsgi.py<br />
│ │ ├───__init__.py<br />
│ │ ├───__pycache__/<br />
│ │ │ ├───settings.cpython-311.pyc<br />
│ │ │ ├───__init__.cpython-311.pyc</p>
<h5 id="settingspy">设置settings.py</h5>
<p>找到HelloWolrd/HelloWorld/settings.py.增加’codeplan’,以及增加static设置，并导入os模块</p>
<pre><code>INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',

    'codeplan',
]


import os
STATIC_URL = 'static/'
 #在模板中调用static函数时，会自动帮你在路径前补全'/static/'
STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'static'),
)
</code></pre>
<h5 id="_7">创建模型</h5>
<p>在HelloWolrd/codeplan/models.py下创建模型</p>
<pre><code>from django.db import models

# Create your models here.


class Plan(models.Model):
    title = models.CharField(max_length=10)
    one = models.CharField(max_length=20)
    two = models.CharField(max_length=20)
    three = models.CharField(max_length=20)
    four = models.CharField(max_length=20)
    five = models.CharField(max_length=20)
    six = models.CharField(max_length=20)
    seven = models.CharField(max_length=20)


    def __str__(self):
        return self.title
</code></pre>
<h5 id="_8">书写视图函数</h5>
<p>在HelloWolrd/codeplan/views.py下创建模型</p>
<pre><code>from django.shortcuts import render

# Create your views here.

from django.http import HttpResponse
from .models import Plan

def index(request):
    plans = Plan.objects.all()

    return render(request, 'index.html', {'plans': plans})
</code></pre>
<h5 id="_9">路由配置</h5>
<p>在HelloWorld/HelloWorld/urls.py下</p>
<pre><code>from django.contrib import admin
from django.urls import path,include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('codeplan/', include('codeplan.urls')),
]
</code></pre>
<p>在HelloWorld/codeplan下创建urls.py，并写入</p>
<pre><code>from django.urls import path,include
from . import views

app_name = 'codeplan'

urlpatterns = [
    path('', views.index, name='codeplan'),
]
</code></pre>
<h5 id="_10">静态资源</h5>
<p>在根目录HelloWorld下创建文件夹static</p>
<h5 id="_11">模板文件</h5>
<p>在codeplan下创建templates文件夹<br />
在GitHub里面拉取静态资源和模板文件</p>
<h5 id="_12">跑通项目</h5>
<h6 id="_13">迁移数据</h6>
<pre><code>python manage.py makemigrations
python manage.py migrate
</code></pre>
<h6 id="_14">创建管理员账号，提示在输入密码时不会显示密码，直接输入即可</h6>
<pre><code>python manage.py createsuperuser
</code></pre>
<h6 id="_15">启动</h6>
<pre><code>python manage.py runserver
</code></pre>
<h6 id="_16">访问</h6>
<p>http://127.0.0.1/admin进入管理员登陆界面<br />
http://127.0.0.1/codeplan进入主页</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../linux/index.html" class="btn btn-neutral float-left" title="部署笔记"><span class="icon icon-circle-arrow-left"></span> 上一个</a>
        <a href="../mkdocs/index.html" class="btn btn-neutral float-right" title="mkdocs笔记">下一个<span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../linux/index.html" style="color: #fcfcfc">&laquo; 上一个</a></span>
    
    
      <span><a href="../mkdocs/index.html" style="color: #fcfcfc">下一个 &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
